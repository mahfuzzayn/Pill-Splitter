const horizontal_line=document.getElementById("horizontal-line"),vertical_line=document.getElementById("vertical-line"),pillsContainer=document.getElementById("pills-container");function controlAxes(e){let t=e.pageX,o=e.pageY;horizontal_line.style.top=`${o}px`,vertical_line.style.left=`${t}px`}function lightenRgbColor(e,t){let[o,l,i]=e.match(/\d+/g).map(Number),s=[o,l,i].map(e=>t>0?Math.min(255,Math.floor(e+(255-e)*(t/100))):Math.max(0,Math.floor(e*(1+t/100))));return"#"+s.map(e=>e.toString(16).padStart(2,"0")).join("")}function lightenHexColor(e,t){3===(e=e.replace(/^#/,"")).length&&(e=e.split("").map(e=>e+e).join(""));let o=parseInt(e.substring(0,2),16),l=parseInt(e.substring(2,4),16),i=parseInt(e.substring(4,6),16);return o=Math.min(255,Math.floor(o+(255-o)*(t/100))),"#"+[o,l=Math.min(255,Math.floor(l+(255-l)*(t/100))),i=Math.min(255,Math.floor(i+(255-i)*(t/100)))].map(e=>e.toString(16).padStart(2,"0")).join("")}function randomColorGenerator(){let e="#";for(let t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e}function randomIdGenerator(){let e="pill-";for(let t=0;t<6;t++)e+="0123456789abcdef"[Math.floor(16*Math.random())];return e}window.addEventListener("mousedown",function e(t){let o=Number(horizontal_line.style.top.split("px")[0]),l=Number(vertical_line.style.left.split("px")[0]),i=this.document.querySelectorAll(".pill"),s=t.target.className.includes("pill"),p=!1;if(i.forEach(e=>{let i=Number(e.style.left.split("px")[0]),s=Number(e.style.top.split("px")[0]),r=Number(e.style.width.split("px")[0]),n=Number(e.style.height.split("px")[0]),d=l>=i&&l<=i+r,a=o>=s&&o<=s+n;if(d&&a){let m=t.pageX-e.offsetLeft,x=t.pageY-e.offsetTop;function $(t){p=!0,e.style.top=`${t.pageY-x}px`,e.style.left=`${t.pageX-m}px`}function y(){if(window.removeEventListener("mousemove",$),window.removeEventListener("mouseup",y),!p){let t=Number(e.style.height.split("px")[0]),o=Number(e.style.width.split("px")[0]);if(x>=20&&x<=t-20&&m>=20&&m<=o-20){let l=x,i=m,s=Number(e.style.top.split("px")[0]),r=Number(e.style.left.split("px")[0]),n=s+l,d=r,a=e.style.backgroundColor,h=document.createElement("div"),g=randomIdGenerator(),u={topLeft:Number(e.style.borderTopLeftRadius.split("px")[0])>=10?"10px":"0px",topRight:Number(e.style.borderTopRightRadius.split("px")[0])>=10?"10px":"0px",bottomLeft:Number(e.style.borderBottomLeftRadius.split("px")[0])>=10?"10px":"0px",bottomRight:Number(e.style.borderBottomRightRadius.split("px")[0])>=10?"10px":"0px"};h.className=`pill ${g}]`,h.style.borderTopLeftRadius=u.topLeft,h.style.backgroundColor=a,h.style.height=`${l}px`,h.style.width=`${i}px`,h.style.top=`${s}px`,h.style.left=`${r}px`,h.style.border=`2px solid ${lightenRgbColor(a,50)}`;let f=document.createElement("div"),b=randomIdGenerator();f.className=`pill ${b}`,f.style.borderTopRightRadius=u.topRight,f.style.backgroundColor=a,f.style.height=`${x}px`,f.style.width=`${o-m}px`,f.style.top=`${s}px`,f.style.left=`${r+i}px`,f.style.border=`2px solid ${lightenRgbColor(a,50)}`;let c=document.createElement("div"),R=randomIdGenerator();c.className=`pill ${R}`,c.style.borderBottomLeftRadius=u.bottomLeft,c.style.backgroundColor=a,c.style.height=`${t-x}px`,c.style.width=`${m}px`,c.style.top=`${n}px`,c.style.left=`${d}px`,c.style.border=`2px solid ${lightenRgbColor(a,50)}`;let v=document.createElement("div"),C=randomIdGenerator();v.className=`pill ${C}`,v.style.borderBottomRightRadius=u.bottomRight,v.style.backgroundColor=a,v.style.height=`${t-x}px`,v.style.width=`${o-m}px`,v.style.top=`${n}px`,v.style.left=`${d+i}px`,v.style.border=`2px solid ${lightenRgbColor(a,50)}`,pillsContainer.appendChild(h),pillsContainer.appendChild(f),pillsContainer.appendChild(c),pillsContainer.appendChild(v),pillsContainer.removeChild(e)}}}window.addEventListener("mousemove",$),window.addEventListener("mouseup",y)}else if(d){let h=t.pageX-e.offsetLeft;function $(e){p=!0}function y(){if(window.removeEventListener("mousemove",$),window.removeEventListener("mouseup",y),!p){let t=Number(e.style.height.split("px")[0]),o=Number(e.style.width.split("px")[0]);if(h>=20&&h<=o-20){let l=h,i=Number(e.style.top.split("px")[0]),s=Number(e.style.left.split("px")[0]),r=e.style.backgroundColor,n={topLeft:Number(e.style.borderTopLeftRadius.split("px")[0])>=10?"10px":"0px",topRight:Number(e.style.borderTopRightRadius.split("px")[0])>=10?"10px":"0px",bottomLeft:Number(e.style.borderBottomLeftRadius.split("px")[0])>=10?"10px":"0px",bottomRight:Number(e.style.borderBottomRightRadius.split("px")[0])>=10?"10px":"0px"},d=document.createElement("div"),a=randomIdGenerator();d.className=`pill ${a}`,d.style.borderTopLeftRadius=n.topLeft,d.style.borderBottomLeftRadius=n.bottomLeft,d.style.backgroundColor=r,d.style.height=`${t}px`,d.style.width=`${l}px`,d.style.top=`${i}px`,d.style.left=`${s}px`,d.style.border=`2px solid ${lightenRgbColor(r,50)}`;let m=document.createElement("div"),x=randomIdGenerator();m.className=`pill ${x}`,m.style.borderTopRightRadius=n.topRight,m.style.borderBottomRightRadius=n.bottomRight,m.style.backgroundColor=r,m.style.height=`${t}px`,m.style.width=`${o-l}px`,m.style.top=`${i}px`,m.style.left=`${s+l}px`,m.style.border=`2px solid ${lightenRgbColor(r,50)}`,pillsContainer.appendChild(d),pillsContainer.appendChild(m),pillsContainer.removeChild(e)}}}window.addEventListener("mousemove",$),window.addEventListener("mouseup",y)}else if(a){let g=t.pageY-e.offsetTop;function $(e){p=!0}function y(){if(window.removeEventListener("mousemove",$),window.removeEventListener("mouseup",y),!p){let t=Number(e.style.height.split("px")[0]),o=Number(e.style.width.split("px")[0]);if(g>=20&&g<=t-20){let l=g,i=Number(e.style.top.split("px")[0]),s=Number(e.style.left.split("px")[0]),r=e.style.backgroundColor,n={topLeft:Number(e.style.borderTopLeftRadius.split("px")[0])>=10?"10px":"0px",topRight:Number(e.style.borderTopRightRadius.split("px")[0])>=10?"10px":"0px",bottomLeft:Number(e.style.borderBottomLeftRadius.split("px")[0])>=10?"10px":"0px",bottomRight:Number(e.style.borderBottomRightRadius.split("px")[0])>=10?"10px":"0px"},d=document.createElement("div"),a=randomIdGenerator();d.className=`pill ${a}`,d.style.borderTopLeftRadius=n.topLeft,d.style.borderTopRightRadius=n.topRight,d.style.backgroundColor=r,d.style.height=`${l}px`,d.style.width=`${o}px`,d.style.top=`${i}px`,d.style.left=`${s}px`,d.style.border=`2px solid ${lightenRgbColor(r,50)}`;let m=document.createElement("div"),x=randomIdGenerator();m.className=`pill ${x}`,m.style.borderBottomLeftRadius=n.bottomLeft,m.style.borderBottomRightRadius=n.bottomRight,m.style.backgroundColor=r,m.style.height=`${t-l}px`,m.style.width=`${o}px`,m.style.top=`${i+l}px`,m.style.left=`${s}px`,m.style.border=`2px solid ${lightenRgbColor(r,50)}`,pillsContainer.appendChild(d),pillsContainer.appendChild(m),pillsContainer.removeChild(e)}}}window.addEventListener("mousemove",$),window.addEventListener("mouseup",y)}}),!s){let r=document.createElement("div"),n=randomIdGenerator(),d=randomColorGenerator(),a={className:`pill ${n}`,borderTopLeftRadius:"10px",borderTopRightRadius:"10px",borderBottomLeftRadius:"10px",borderBottomRightRadius:"10px",top:`${t.pageY}px`,left:`${t.pageX}px`,border:`2px solid ${lightenHexColor(d,50)}`,backgroundColor:d};for(style in a){if("className"===style){r[style]=a[style];continue}r.style[style]=a[style]}pillsContainer.appendChild(r);let m=t.pageX,x=t.pageY;function $(e){let t=e.pageX,o=e.pageY;r.style.top=`${Math.min(o,x)}px`,r.style.left=`${Math.min(t,m)}px`,r.style.height=`${Math.abs(o-x)}px`,r.style.width=`${Math.abs(t-m)}px`}window.addEventListener("mousemove",$),window.addEventListener("mouseup",function e(){r.style.height.split("px")[0]<20&&r.style.width.split("px")[0]<20&&pillsContainer.removeChild(r),this.window.removeEventListener("mousemove",$),this.window.removeEventListener("mouseup",e)})}}),window.addEventListener("mouseover",function e(){window.addEventListener("mousemove",controlAxes)}),window.addEventListener("mouseout",function e(){window.removeEventListener("mousemove",controlAxes)});